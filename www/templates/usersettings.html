{% import 'forms.html' as forms %}
{% import 'submenu.html' as submenu %}

{% extends "layout.html" %}

{% set bodyId = 'id="usersettings_page"' %}

{% macro isUserSettingChecked(option) %}
{% if user_settings[option] == "1" %}
checked
{% endif %}
{% endmacro %}

{% macro isSelectedPriority(priority) %}
{% if user_settings["defaultPriority"] == priority %}
selected
{% endif %}
{% endmacro %}

{% block submenu %}
{{submenu.buildsubmenu_usersettings(active_page="usersettings", pathNum=2)}}
{% endblock %}

{% block content %}
<div class="row vertical-line">
    <div class="rounded-container">
        <div class="col-md-6">
            <h1 class="head-2">
                Settings for {{ authz.getUsernameFull(request) }}
            </h1>

            <form id="userSettingsForm" action="/users/settings/submit" method="POST" class="user-settings">
                <div class="col-md-12">
                    <label class="col-md-3" for="colorBlindMode">Color blind mode</label>
                    <input id="colorBlindMode" type="checkbox" {{ isUserSettingChecked("colorBlind") }}/>
                    <input id="colorBlind_setting" name="colorBlind_setting" hidden="hidden" value="0"/>
			<span class="question-icon tooltip"
                  title="Turns up the contrast on certain colors, to support people with colorblindness">
          	</span>
                </div>
                <div class="col-md-12">
                    <label class="col-md-3" for="oldBuildDays_setting">Old build days</label>
                    <input id="oldBuildDays_setting" name="oldBuildDays_setting" type="number"
                           value="{{ user_settings.oldBuildDays}}"/>
			<span class="question-icon tooltip"
                  title="The number of days before builds are greyed out on build and builder tables">
          	</span>
                </div>
                <div class="col-md-12">
                    <label class="col-md-3" for="defaultPriority">Default priority</label>
                    <select name="defaultPriority_setting">
                        <option value="75" {{ isSelectedPriority("75") }} >High</option>
                        <option value="50" {{ isSelectedPriority("50") }} >Medium (Default)</option>
                        <option value="25" {{ isSelectedPriority("25") }} >Low</option>
                    </select>
			<span class="question-icon tooltip"
                  title="Default priority for new builds.">
          	</span>
                </div>

                <input type="submit" class="blue-btn var-2 fl-right" value="Submit">

                <div class="clearfix"></div>
            </form>
        </div>
        <div class="col-md-6">

        </div>
    </div>
</div>
{% endblock %}
